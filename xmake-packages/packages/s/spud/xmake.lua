package("spud")
add_deps("cmake")
add_urls("https://github.com/tashcan/spud/archive/refs/tags/$(version).tar.gz",
    "https://github.com/tashcan/spud.git")
add_versions("v0.1.1", "4298ec14727080166a959051d647a2acfcdceb0170bd1d269c1c76c8e51c1dca")
add_versions("v0.2.0.alpha.1", "30df1499b5e4a51ae7ddd9fbda410dcbe6fed2725d6097dfbb2990e9a9ba2ece")
add_versions("v0.2.0.alpha.2", "414db66510c3410ea1e90207fff1be15c72b362983c04b14c63edc5d7067b4f1")
add_versions("v0.2.0.alpha.3", "a0e0d810a6dfd3919267581766663fa28d1980b8d4a6f111fa770d0d3e6ce211")
add_versions("v0.2.0.alpha.4", "f758c0a2403256837d84df7b103612d7ad4360917310f3dd6a04f77bbfd22bfb")
add_versions("v0.2.0.alpha.5", "d3c1f03279f95a2416334a62cd98f8ae98d45ae37ff4e7a59acc69b2cbabc53a")
on_install(function(package)
    local configs = {}
    table.insert(configs, "-DCMAKE_BUILD_TYPE=" .. (package:debug() and "Debug" or "Release"))
    table.insert(configs, "-DBUILD_SHARED_LIBS=" .. (package:config("shared") and "ON" or "OFF"))
    table.insert(configs, "-DSPUD_BUILD_TESTS=OFF")
    table.insert(configs, "-DSPUD_NO_LTO=ON")
    import("package.tools.cmake").install(package, configs)
end)
